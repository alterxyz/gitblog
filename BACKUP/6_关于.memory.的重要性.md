# [关于 memory 的重要性](https://github.com/alterxyz/gitblog/issues/6)

一个稳定可靠，或者至少自洽的记忆是至关重要的。如此才能构建一个自然的人格。
无论是人还是 AI。

很同意这会是个全面的工程。prompt engineering 之前很多人只是狭义的讨论 提示词么？那么重命名为 context engineering 也算是一种 refreshing 了挺好的。就像 agent 有点被炒作炒烂了，于是 agentic 这个词就又悄然成了共识。

## Gemini deep research 结果


# **塑造 AI 思维：从提示到上下文工程的战略转移**

**执行摘要**

本报告旨在深入剖析人工智能应用开发领域的一项根本性转变：从“提示工程”（Prompt Engineering）到“上下文工程”（Context Engineering）的演进。这一转变并非简单的术语更迭，而是标志着行业从关注局部文本优化的“技艺”阶段，迈向了构建整体信息生态系统的“工程”纪元。Andrej Karpathy 等行业思想领袖的论述，为这一业已存在的实践赋予了明确的名称，从而加速了其理论化和体系化进程。

上下文工程的核心在于，它不再局限于雕琢单个输入指令，而是致力于设计和构建一个完整的、动态的信息环境。这个环境囊括了数据管道、检索机制、交互历史、可用工具以及领域知识，其最终目的是为了赋能大型语言模型（LLM）以一种可靠、可扩展且可预测的方式，完成复杂的、多步骤的真实世界任务。

本报告将系统性地阐述此范式转移。首先，我们将明确界定提示工程与上下文工程的范畴与区别，确立后者作为一种更宏大、更具系统性的工程学科的地位。其次，我们将深入技术层面，详细解析支撑上下文工程的核心架构，特别是以“检索增强生成”（Retrieval-Augmented Generation, RAG）为代表的技术栈及其高级实现。随后，报告将通过分析 DoorDash、LinkedIn 及 Perplexity AI 等前沿企业的真实案例，展示上下文工程在商业实践中的具体应用与巨大价值。最后，我们将探讨这一转变对 AI 开发者角色、技能需求及企业数据战略的深远影响，并为技术从业者与领导者提供前瞻性的战略展望与行动建议。

---

## **第一部分：语义的演进：从雕琢词句到构建世界**

人工智能应用开发领域正经历一场深刻的认知升级，其核心在于我们将如何与大型语言模型（LLM）协作。这场变革的焦点，正从如何“提问”的技艺，转向如何为其构建一个完整“世界观”的工程学科。著名 AI 科学家 Andrej Karpathy 的观点成为了这场讨论的催化剂，他主张使用“上下文工程”这一术语，因为它更精确地捕捉了当前 AI 开发的核心挑战，标志着该领域向着更成熟、更体系化的方向发展。

### **1.1 Karpathy 的催化作用：为新前沿命名**

当 Andrej Karpathy 提出应更多地讨论“上下文工程”而非“提示工程”时，他并非发明了一个全新的概念，而是为一种已在顶尖开发者实践中普遍存在的趋势进行了精准命名 1。这一举动意义重大，因为它正式宣告了 AI 开发正在走出“凭感觉编程”（vibe coding）的早期探索阶段——一个开发者们更多是在实验和感受 AI 工具能力的时期 3。

开发者社区的积极反响证实了这一命名的时效性。许多工程师表示，他们早已在实践中朝着这个方向努力，但一直缺少一个恰当的词汇来概括这种系统性的工作 1。Karpathy 的提法，恰如其分地将零散的实践经验凝聚成一个清晰的学科方向，推动了行业共识的形成。它强调，决定高级 AI 应用成败的关键，已不再是那灵光一现的“神奇提示词”，而是其背后那个精心构建、持续供给信息的系统。

### **1.2 概念界定：范围与维度的差异**

为了“正本清源”，必须精确地区分提示工程与上下文工程。二者的根本差异在于其工作范围、目标和所处的抽象层次。

* **提示工程（Prompt Engineering）**：可以被狭义地定义为一种**技艺**，其核心目标是**优化文本输入**。它专注于通过精心选择和组织词语、短语、句子结构乃至标点符号，来引导 LLM 在**单次或有限次的交互**中生成最符合预期的、高质量的输出 6。其本质是追求与模型进行清晰、高效的沟通，好比一位管理者向员工下达明确无误的工作指令 9。它的作用域是用户与模型之间的那个“提示词”本身。  
* **上下文工程（Context Engineering）**：则是一门**工程学科**，其核心目标是**设计和构建动态的、可扩展的系统**。这个系统负责为 LLM 提供完成复杂任务所需的一切元素：正确的信息、可用的工具、相关的历史对话、明确的指令以及领域知识，并确保这些元素以正确的格式被动态地组织和利用 9。它关注的不是单次交互，而是整个  
  **信息生态系统**的构建与维护，这个生态系统将支撑 AI 在连续的、多步骤的流程中可靠地运行 6。

由此可见，**提示工程是上下文工程的一个子集** 9。这个观点至关重要。如果将构建一个 AI 应用比作烹饪，那么提示工程就像是撰写一份清晰的菜谱（recipe），而上下文工程则是设计整座厨房（kitchen）：包括决定食材的采购渠道与标准（数据源与质量）、设计食材处理流水线（数据管道）、配置厨具（工具集），并教会厨师（LLM）如何理解菜谱、使用厨具以及记住顾客的口味偏好（交互历史与个性化）12。

### **1.3 为何需要这种转变：从局部优化到系统可靠性**

在真实的生产环境中，单纯依赖提示工程的局限性显而易见。一个措辞再完美的提示，也无法弥补上下文信息的缺失或错误 14。开发者们发现，为了让 AI 应用在面对各种边缘情况时依然能保持稳定和一致，他们花费在准备和构建上下文上的时间，远超调整提示词本身 14。

这种转变的根本原因在于，它触及了 LLM 应用失败的核心症结。大多数情况下，模型表现不佳并非源于其“智力”不足，而是因为它没有获得做出正确判断所必需的信息 11。上下文工程将开发的重心从优化那个最终提交给模型的、静态的“提示字符串”，转移到了动态地管理和填充整个“上下文窗口”（Context Window）——这个模型在进行推理时能够看到的所有信息的总和。

这种从“技艺”到“工程”的语义演进，其背后是行业专业化和成熟化的必然趋势。将这一核心工作冠以“工程”之名，本身就是一种战略性的举措。它摒弃了“提示工程”一词常带有的、类似“炼金术”或“黑客技巧”的临时性和不可捉摸感 10，而引入了系统化、可重复、可度量、可维护的工程学内涵 14。这使得 AI 应用的开发过程能够与成熟的软件开发生命周期（SDLC）和 DevOps 理念相结合 15，从而更容易被企业级应用所接纳和投资。企业愿意为有明确投资回报率的工程学科投入资源，而非模糊的“手艺”。因此，将“上下文”提升到工程的高度，是推动生成式 AI 从有趣的玩具转变为可靠的生产力工具的关键一步。

**表 1：提示工程 vs. 上下文工程：核心差异对比**

| 特征 | 提示工程 (Prompt Engineering) | 上下文工程 (Context Engineering) |
| :---- | :---- | :---- |
| **核心目标** | 引导模型生成特定的、高质量的单次响应。 | 构建一个能支持模型持续、可靠执行复杂任务的系统。 |
| **工作范畴** | 用户输入的指令字符串（Prompt）。 | 整个信息环境，包括数据、工具、历史记录、外部知识库等。 |
| **核心隐喻** | 撰写一份清晰明确的菜谱。 | 设计、建造并运营整座自动化厨房。 |
| **关键技能** | 语言表达、创意构思、指令清晰度、领域知识的文字化。 | 系统设计、数据架构、信息检索、API 集成、流程编排。 |
| **时间维度** | 关注单次交互或孤立的任务。 | 关注连续的、多轮的、可能长期运行的交互流程。 |
| **产出物** | 一个或一组精心设计的文本提示模板。 | 一套完整的数据管道、检索系统、Agentic 框架或评估体系。 |
| **关注点** | “我应该**如何问**这个问题？” | “为了让 AI 能回答这类问题，它需要**知道什么**？” |

---

## **第二部分：上下文工程的架构基石**

如果说上下文工程是构建智能应用的蓝图，那么其实现则依赖于一套坚实的、以数据为中心的架构。这一架构的核心思想是，不再仅仅依赖 LLM 内部固化的、可能过时的知识，而是通过动态地、实时地为其注入外部世界的信息来增强其能力。本节将深入剖析支撑上下文工程的技术体系，从核心引擎 RAG 到更为复杂的生产级实现。

### **2.1 检索增强生成 (RAG)：核心驱动引擎**

检索增强生成（Retrieval-Augmented Generation, RAG）是上下文工程中最核心、最广为人知的技术框架 17。它通过将传统的信息检索系统（如搜索引擎和数据库）与 LLM 的强大生成能力相结合，从根本上解决了 LLM 的一些固有缺陷。

* **定义与目的**：RAG 的核心目的在于，通过从外部权威知识库中检索相关信息，来“增强”LLM 的生成过程，从而使其回答更加准确、及时，并有事实依据 18。这极大地缓解了 LLM 的“幻觉”（Hallucination）问题，即模型在缺乏知识时凭空捏造事实的倾向 9。对于企业而言，RAG 的最大价值在于，它允许组织利用自己最新的、专有的内部数据来驱动 AI 应用，而无需承担重新训练或微调大型模型所带来的高昂计算和财务成本 19。  
* **RAG 的标准工作流**：一个典型的 RAG 系统通常包含以下几个关键步骤 21：  
  1. **数据注入与预处理 (Ingestion & Preparation)**：首先，系统需要接入外部数据源，这可以是公司的内部文档、数据库记录、API 接口，甚至是网页内容。这些原始数据经过清洗、格式转换等预处理步骤，形成一个可供 AI 理解的“知识库” 18。  
  2. **嵌入与索引 (Embedding & Indexing)**：接下来，系统使用一种称为“嵌入模型”（Embedding Model）的 AI 技术，将预处理后的文本数据（通常被切分成小块，即“chunks”）转换成高维的数字向量（即“嵌入”）。这些向量能够捕捉文本的语义信息。随后，这些向量被存入一个专门的“向量数据库”中，并建立索引，以便进行快速的相似性搜索 21。  
  3. **检索 (Retrieval)**：当用户提出一个问题时，系统同样会将这个问题转换成一个查询向量。然后，利用这个查询向量在向量数据库中进行搜索，找出与问题语义最相似的若干个文本块（chunks）18。  
  4. **增强与生成 (Augmentation & Generation)**：检索到的这些高相关性文本块，会连同用户的原始问题一起，被“塞”进（stuffing）一个最终的提示中，形成一个“增强提示”（Augmented Prompt）。这个提示被发送给 LLM。由于 LLM 此时获得了完成任务所需的精确上下文，它便能生成一个有事实依据的、高质量的回答 19。  
  5. **数据生命周期管理 (Data Lifecycle)**：为了保证信息的时效性，外部知识库必须能够被持续更新。这可以通过自动化的实时或批量处理流程来完成，确保 RAG 系统能够访问到最新的数据 21。

### **2.2 超越基础 RAG：面向生产环境的高级技术**

虽然基础的 RAG 流程已经非常强大，但在复杂的生产环境中，为了应对查询的模糊性、上下文的细微差别以及对性能的极致要求，开发者们已经发展出了一系列高级技术 26。

* **高级检索策略**：  
  * **混合搜索 (Hybrid Search)**：将捕捉语义相似性的向量搜索与捕捉精确匹配的传统关键词搜索相结合。这种方法在处理包含特定术语（如产品型号、专有名词、医疗术语）的查询时尤为有效，因为它兼顾了“意思相近”和“字面相同”两种情况 18。  
  * **重排序 (Re-ranking)**：在检索到初步的文档列表后，使用一个计算更密集、能力更强的“重排序模型”（通常是交叉编码器 Cross-Encoder）对这个列表进行二次排序，以确保最相关的文档排在最前面。这相当于在将上下文交给昂贵的 LLM 之前，进行了一次精细的“提纯”，显著提高了信噪比 18。  
  * **查询转换 (Query Transformations)**：在进行检索之前，先对用户的原始查询进行优化。常见技术包括：**查询扩展**（为查询补充同义词或相关术语）、**查询分解**（将一个复杂问题拆解成多个可以独立检索的子问题），以及**后退提示**（Step-back Prompting，即先生成一个更宽泛、更抽象的问题来获取宏观背景知识，再结合原始问题的细节进行精确检索）23。  
* **高级数据处理与分块**：  
  * 如何将长文档切分成合适的“块”是 RAG 性能的关键。**语义分块**（Semantic Chunking）技术，即根据文本的语义连贯性而非固定的字符数来切分，能产生更具内在逻辑的文本块。此外，为**句子的滑动窗口**（sliding windows of sentences）创建嵌入，也能更好地保留句子间的上下文联系 23。  
* **GraphRAG：融合结构化知识**：  
  * 对于需要多步推理的复杂问题（multi-hop questions），将知识以图谱（由实体和关系组成）的形式进行组织，其效果远胜于非结构化的纯文本。**GraphRAG** 技术通过从知识图谱中检索相关的子图，并将其中的结构化信息与传统的向量检索结果相结合，为 LLM 提供了更丰富、更具关联性的上下文 19。LinkedIn 将历史支持工单构建成知识图谱用于客服问答，便是一个成功的商业实例 16。

### **2.3 Agentic 架构与工具使用**

上下文工程是构建高效 AI 代理（Agent）的基石。一个 AI 代理不仅仅是一个聊天机器人，它是一个能够进行推理、规划并使用外部工具来达成目标的智能系统 29。

* **函数调用 (Function Calling) 作为上下文工具**：函数调用是 LLM 与外部世界（如 API、数据库、代码执行环境）交互的核心机制 32。在实践中，开发者会将一系列可用工具（以函数的形式）的描述作为上下文提供给 LLM。LLM 在理解用户意图后，能够自行判断是否需要以及何时调用某个工具，并以结构化格式（通常是 JSON）生成调用该函数所需的参数 32。这是实现 Agentic RAG 的关键一环，使得 AI 代理能从一个被动的信息整合者，转变为一个主动的任务执行者 30。  
* **单代理 vs. 多代理架构之辩**：  
  * 一个流行的构想是构建一个由多个专职代理组成的“团队”，让它们协作完成复杂任务。然而，目前的行业实践表明，这种多代理架构往往非常脆弱 11。其根本原因在于，在多个代理之间高效、无损地共享和同步上下文是一个巨大的技术挑战。缺乏共享的上下文会导致决策冲突和工作成果的不连贯 11。  
  * 相比之下，一种更稳健、更可靠的架构是**单线程线性代理**（single-threaded linear agent）。在这种架构中，上下文在任务的每一步中都是连续且共享的，从而避免了因代理间沟通不畅而导致的“滚雪球式”的错误累积 11。这一争论凸显了，上下文流的管理已经成为 AI 应用架构设计的首要考量。

在深入探讨这些技术时，一个关键的认知浮出水面：**上下文工程本质上是 AI 时代的数据工程**。整个 RAG 及其高级变体的流水线——从数据抽取、转换、加载（ETL），到数据建模（嵌入）、存储（向量数据库）和查询（检索）——都与传统数据工程的核心任务一一对应 21。企业在实施上下文工程时遇到的最大挑战，如数据质量低下、信息孤岛、治理缺失等 12，也正是数据工程领域长期致力于解决的经典难题 36。这意味着，拥有成熟数据工程文化和实践的组织，在迈向高级 AI 应用的道路上将拥有显著的先发优势。

同时，另一个重要的观点是，**不断增大的“上下文窗口”并非 RAG 的替代品，反而使其变得更为重要**。尽管像 Claude 3 提供的 200k token 上下文窗口看似能让开发者“一股脑”地塞入大量信息 37，但实践和研究均表明，模型在处理超长上下文时存在“迷失在中间”（lost in the middle）的问题，即对输入序列中部信息的注意力会显著下降 15。此外，处理长上下文也意味着更高的 API 调用成本和更长的响应延迟 14。因此，RAG 扮演了一个至关重要的“智能预处理器”角色。与其将海量无关信息全部填入昂贵的上下文窗口，远不如先用廉价高效的检索技术，从海量文档中精确定位出最相关的几个段落。RAG 与大上下文窗口是互补的：RAG 负责决定

**什么**信息值得被放入宝贵的上下文窗口中。

**表 2：生产级 RAG 系统的关键组件**

| 组件 | 目的 | 关键技术/工具 |
| :---- | :---- | :---- |
| **数据注入 (Data Ingestion)** | 从不同来源获取并准备外部知识。 | API 连接器、数据库连接器、网络爬虫、ETL 脚本。 |
| **分块策略 (Chunking Strategy)** | 将文档分解为大小适中且语义连贯的信息块。 | 语义分块、句子滑动窗口、基于命题的分块 (Proposition-based chunking)。 |
| **嵌入模型 (Embedding Model)** | 将文本块转换为能够捕捉语义的向量。 | Sentence-Transformers, OpenAI Embeddings, Cohere Embeddings, 多模态模型。 |
| **向量存储 (Vector Store)** | 高效地存储、索引和查询海量向量。 | 向量数据库 (如 Pinecone, Weaviate, Milvus), Vertex AI Search, Elasticsearch。 |
| **检索逻辑 (Retrieval Logic)** | 根据用户查询，找出最相关的上下文信息。 | 向量搜索、关键词搜索、混合搜索、查询转换 (如 HyDE)。 |
| **重排序模型 (Re-ranking Model)** | 对初步检索结果进行二次精排，提升相关性。 | 交叉编码器 (Cross-Encoders)、基于 LLM 的评估 (LLM-as-a-judge)。 |
| **生成模型 (Generator LLM)** | 基于增强后的提示，综合信息并生成最终答案。 | GPT-4, Claude 3, Llama 3, Gemini 1.5 Pro。 |
| **评估与护栏 (Evaluation & Guardrails)** | 监控系统性能，确保输出的准确性、安全性与合规性。 | LLM-as-a-judge 框架、事实核查管道、输出格式与内容验证。 |

---

## **第三部分：上下文工程的实践：案例研究与范例剖析**

理论的价值最终体现在实践中。本节将从抽象的架构讨论转向具体的商业应用，通过剖析行业领先企业的案例，展示上下文工程的原则如何转化为可衡量的商业价值和卓越的用户体验。这些案例揭示了一个共同的趋势：竞争优势正从模型本身转向围绕模型构建的、独特的、高效的上下文生态系统。

### **3.1 企业应用：构建由上下文驱动的商业解决方案**

大型企业正在积极利用 RAG 和上下文管理来解决其核心业务中的高价值问题，通过将专有数据转化为 AI 的即时知识，实现降本增效和体验提升。

* **案例研究：DoorDash —— 高质量的自动化支持**  
  * **业务挑战**：为数量庞大的送餐员（“Dashers”）提供快速、准确、一致的自动化支持服务。  
  * **解决方案**：DoorDash 构建了一个复杂的、多组件的 RAG 系统。其核心不仅在于从帮助文档和历史案例中检索信息，更在于其完善的质量控制体系。该体系包括：1) 一个核心的 **RAG 系统**，用于信息检索；2) 一个 **“LLM 护栏”**（LLM Guardrail），实时监控生成内容，确保其准确性并符合公司政策；3) 一个 **“LLM 评判官”**（LLM Judge），用于持续评估系统在相关性、连贯性等多个维度上的表现 16。  
  * **实践启示**：此案例雄辩地证明，一个生产级的上下文工程应用，远不止“检索+生成”这么简单。它是一个包含**检索、生成、评估和监控**的完整闭环生态系统。对质量的持续度量和控制是其成功的关键。  
* **案例研究：LinkedIn —— 用于客户服务的结构化上下文**  
  * **业务挑战**：面对海量的历史客户服务工单，如何高效地为新的用户问题找到解决方案。  
  * **解决方案**：LinkedIn 认识到，将历史工单视为独立的纯文本文件会丢失大量有价值的关联信息。因此，他们采取了更高级的策略：将这些工单数据构建成一个**知识图谱**（Knowledge Graph），明确地表示出不同问题、解决方案和用户之间的内在联系。其 RAG 系统在响应查询时，会从这个图谱中检索相关的**子图**作为上下文，而不仅仅是文本片段 16。  
  * **量化成果**：这一基于结构化上下文的先进方法，使得 LinkedIn 客服团队的**平均问题解决时间中位数降低了 28.6%** 16。  
  * **实践启示**：在处理具有复杂内部关联的数据域时（如客服、法规、供应链），GraphRAG 等利用结构化上下文的技术，相比简单的文本检索具有压倒性的优势。上下文的“结构”本身就是一种宝贵的信息。  
* **案例研究：Bell —— 可扩展的知识管理**  
  * **业务挑战**：确保公司员工能够随时访问到最新、最准确的内部政策和流程文档。  
  * **解决方案**：加拿大电信巨头 Bell 公司部署了一套模块化的 RAG 系统。该系统的特点在于其强大的数据注入管道，能够支持对知识库的批量和增量更新，并采用**DevOps 原则**来管理和维护整个系统，将其视为一个标准的软件服务来对待 16。  
  * **实践启示**：此案例强调了上下文**生命周期管理**的重要性。上下文不是一次性的构建，而是一个需要持续维护、更新和迭代的动态资产。将其纳入成熟的软件工程管理流程是保证其长期价值的前提。

### **3.2 “答案引擎”范式：Perplexity AI 深度剖析**

如果说上述案例展示了上下文工程在企业内部的应用，那么 Perplexity AI 则完美诠释了如何将这些原则应用于一个面向公众的、革命性的产品。它不是传统的搜索引擎，也不是简单的聊天机器人，而是一个被业界称为“答案引擎”（Answer Engine）的新物种，是上下文工程理念的集大成者。

* **核心功能**：Perplexity 的工作模式是 RAG 在全网范围内的宏大应用。它接收用户的自然语言问题，通过**实时网络搜索**来收集信息，然后利用 LLM 将检索到的信息综合、提炼成一个直接、连贯、有来源引用的回答，而非仅仅罗列一堆链接 39。  
* **Perplexity AI 中的上下文工程实践**：  
  * **实时检索作为上下文**：与依赖静态训练数据的 LLM 不同，Perplexity 的核心竞争力在于其为每个问题动态构建上下文的能力。它会实时访问网络，确保提供给 LLM 的信息是最新鲜的 40。  
  * **对话记忆与上下文保持**：Perplexity 通过“线程”（Threads）的概念来管理对话历史。在同一个线程中，用户可以不断追问，而模型会记住之前的对话内容，无需用户重复提供背景信息。这是一种高效的会话级上下文管理机制 39。  
  * **来源追溯与事实接地**：这是 RAG 的标志性优势。Perplexity 生成的每一个关键信息点都会附上来源引用，用户可以轻松点击链接，核实原始出处。这极大地增强了答案的可信度，是建立用户信任的关键 39。  
  * **用户自定义上下文**：平台允许用户上传自己的文档（如 PDF）或图片，将其作为私有知识源纳入到当次查询的上下文中 42。其 API 甚至提供了  
    search\_context\_size 这样的参数，让开发者可以根据成本和性能需求，精细地控制从网络检索的上下文数量 38。  
  * **基于上下文的查询理解**：Perplexity 不仅检索上下文，还利用 LLM 来深刻理解用户的查询意图，超越了简单的关键词匹配。其“专业搜索”（Pro Search）模式甚至会主动向用户提出澄清性问题，以进一步精确化上下文的构建 39。

这些案例共同揭示了一个深刻的行业趋势：AI 应用的价值核心正在发生转移。随着强大的基础模型日益商品化，通过 API 即可轻松调用，拥有一个略胜一筹的模型本身已不再构成坚固的护城河。真正的、可持续的竞争优势，来源于企业所拥有的独特的、专有的数据，以及更重要的——将这些数据高效、可靠地**工程化为 AI 可用上下文**的能力。DoorDash 的护城河是其精细的知识库和评估体系，LinkedIn 的护城河是其结构化的工单知识图谱，Perplexity 的护城河是其大规模实时编排网络信息为上下文的能力。未来，AI 领域的竞争将不再是“模型之战”，而是“上下文之战”。

---

## **第四部分：人的因素：重新定义 AI 开发者的角色与技能**

从提示工程到上下文工程的范式转移，不仅仅是技术栈的更新，更深刻地重塑了 AI 开发者的角色定位、技能要求以及团队协作模式。当 AI 从一个需要被巧妙“哄骗”的黑箱，变成一个需要被系统性“赋能”的合作伙伴时，对其进行“工程化”的人，其价值和职责也必然随之演变。

### **4.1 从提示词工匠到系统架构师：角色的演进**

开发者的工作重心正在从“局部”转向“全局”。过去，人们津津乐道的是如何通过遣词造句的“微操”来获得惊艳的单次输出；而现在，真正的挑战在于如何设计一个稳健的系统，使其在面对成千上万次不同的输入时，依然能保持高质量和高可靠性。

这种转变意味着，AI 开发者的角色正在从一个**提示词工匠**（Prompt Crafter）演变为一个**系统架构师**（Systems Architect）3。最有价值的工程师，不再是那个能写出最精妙提示或最多代码的人，而是那个能够最清晰地向 AI 系统

**阐明项目需求、架构约束和领域规则**的人。这种能力，被一些从业者称为“上下文阐明”（Context Articulation），已成为新的核心竞争力 29。在这个新范式下，开发者更像是一位集导演、编剧和舞台监督于一身的创作者，负责为 AI 这个“演员”准备好它登台所需的一切：剧本（任务目标）、场景（数据环境）、道具（工具集）和与其他演员的互动规则（协作流程）3。或者，用另一个比喻来说，人类专家是提供方向和智慧的“蜂后”，而 AI 是勤奋执行的“工蜂”，上下文工程则是连接二者、使其高效协作的“蜂巢”架构 44。

### **4.2 上下文工程师的新兴技能栈**

要胜任这一新角色，开发者需要一套融合了传统软件工程、数据工程和对 AI 深刻理解的复合型技能。

* **核心技术能力**：  
  * **数据管道与 ETL**：由于上下文工程的核心是为 LLM 准备数据，因此，熟练构建和管理从各种数据源（API、数据库、文档库）抽取、转换和加载数据的管道，成为了基础中的基础。  
  * **信息检索与搜索技术**：必须深入理解向量数据库的原理、嵌入模型的选择与使用，并掌握混合搜索、重排序等高级检索策略，以确保检索到的上下文既相关又精确。  
  * **系统设计与 Agentic 框架**：需要具备设计可扩展、高可用的分布式系统的能力，特别是涉及 Agentic 框架和函数调用（Tool Use）的复杂系统。这要求开发者思考状态管理、任务编排和错误处理等问题。  
  * **评估、测试与可观测性**：这是从“手艺”迈向“工程”的关键。开发者需要为 RAG 系统的输出质量（如相关性、事实一致性）建立量化评估体系，并将提示词和上下文配置视为代码的一部分，对其进行版本控制、单元测试和持续集成 14。  
* **战略与软性技能**：  
  * **上下文阐明 (Context Articulation)**：如前所述，这是将模糊的业务需求和复杂的领域知识，转化为 AI 能够理解和执行的结构化上下文的能力 29。  
  * **问题建模 (Problem Formulation)**：成功的关键往往在于对问题本身的深刻定义，而非对提示词的反复修改。开发者需要将重心前移，与业务方一起明确问题的范围、边界和成功标准 7。  
  * **跨职能协作**：上下文工程绝非一人之功，它是一项“团队运动”。它要求 AI 开发者与数据工程师、领域专家、产品经理甚至法务与合规团队紧密合作，才能构建出完整、准确的上下文视图 12。

### **4.3 企业的挑战：驯服碎片化的知识**

对于大型组织而言，实施上下文工程的最大障碍，往往不是技术选型，而是其内部知识管理的现状，即“上下文的混乱”（Context Chaos）12。

* **问题的根源**：企业的关键知识资产通常是**碎片化**的，散落在数十个不同的系统里（如 Jira、Confluence、SharePoint、Slack、CRM 等）；这些知识往往是**不一致**的，同一个概念（如“活跃用户”）在不同部门有不同的定义；它们是**不可信**的，充满了过时信息、手动覆盖和重复逻辑；并且**缺乏明确的所有权**，当 AI 需要一个权威解释时，无人能提供最终答案 12。  
* **解决方案：一种社会技术工程**：解决这个问题，需要超越纯粹的技术视角，将其视为一个社会技术系统工程。这要求企业采取一套组合拳：  
  1. **绘制上下文地图**：首先，需要系统性地盘点和梳理组织内最关键的知识资产，识别其位置、依赖关系和质量状况。  
  2. **建立治理体系**：为关键的上下文数据明确所有者、制定标准和访问策略，将其作为一种受管理的核心资产来对待。  
  3. **先联邦，后整合**：不要试图一蹴而就地建立一个完美的、集中的“上下文中心”。更务实的做法是，先通过技术手段实现对现有分散系统的**联邦式访问**，然后根据业务价值，逐步将最核心、最通用的上下文层（如核心业务指标定义、组织架构、产品分类等）进行整合 12。

这一系列挑战和应对策略，催生了一个关键角色的复兴和升级：**知识工程师 (Knowledge Engineer)**。在上下文工程的时代，知识工程师的角色变得至关重要。他们是连接业务、数据和 AI 的桥梁，其核心职责不再是为传统的专家系统构建规则，而是系统性地捕获、建模、组织和治理企业的知识，最终将其转化为 AI 可以消费的、高质量的上下文 36。他们需要深入理解数据的“5W1H”（Who, What, Where, When, Why, How）36，并利用知识图谱等技术，为企业构建一个可信的、可供 AI 查询的“数字孪生大脑”。这个角色的崛起，标志着企业对“上下文”这一无形资产的战略重视已提升到新的高度。

**表 3：AI 应用开发者技能演进趋势**

| 技能类别 | 相对重要性下降 (或成为基础门槛) | 相对重要性上升 (新前沿) |
| :---- | :---- | :---- |
| **模型交互** | 手工雕琢单个提示词、探索“越狱”技巧。 | 系统化的提示模板管理、版本控制、自动化评估。 |
| **数据处理** | 使用他人预处理好的数据集。 | 构建稳健的数据注入、清洗、分块和更新管道。 |
| **系统架构** | 开发简单的、单轮交互的应用。 | 设计复杂的多步骤、多工具的 Agentic 系统。 |
| **核心知识** | 掌握特定模型的“怪癖”和技巧。 | 掌握信息检索、数据建模、系统设计等基本原理。 |
| **团队协作** | 在开发团队内部协作。 | 领导跨职能团队，与领域专家、数据、法务等部门协作。 |

---

## **第五部分：战略展望与建议**

随着上下文工程从一个新兴概念迅速成为构建高级 AI 应用的行业标准，我们有必要站在一个更宏观的视角，审视其长远影响，并为身处其中的开发者和技术领导者提供战略性的指引。

### **5.1 未来是上下文感知的：为何上下文是新的竞争护城河**

在可预见的未来，随着顶级的大型语言模型在能力上趋于同质化，并作为一种基础设施通过 API 广泛可用，竞争的焦点将发生决定性的转移。构建差异化和防御性壁垒的关键，将不再是拥有一个参数量更大或在某个基准上得分稍高的**模型**，而是企业所拥有的独特的、专有的**数据**，以及更重要的——将这些数据**工程化为高质量上下文**的能力 12。

AI 应用的质量上限，将不再由 LLM 的“智商”决定，而将由我们能为其提供的上下文的质量、新鲜度和相关性所决定。一句在开发者圈中广为流传的话精辟地总结了这一点：“上帝渴望上下文”（God is hungry for context）45。未来，那些能够最好地“喂养”AI 的组织，将释放出其最强大的生产力。上下文，而非模型本身，正在成为新的、最坚固的竞争护城河。

### **5.2 “上下文工程”只是一个新潮的术语吗？**

面对任何一个新兴术语，一个合理的质疑是：它是否仅仅是对已有概念的重新包装？

对此，我们的分析认为，尽管上下文工程的许多底层原则确实借鉴了信息科学、知识管理、数据工程和认知系统工程等领域数十年的研究成果 36，但将其应用于大型语言模型这一独特的、概率性的、非结构化信息处理的新范式时，它催生出了一门真正独特的、综合性的新工程学科。

这个术语之所以有价值，因为它精准地捕捉到了当前阶段的核心挑战：如何系统性地将人类积累的、往往是混乱且隐性的知识，结构化地、动态地呈现给一个强大的、但不具备人类常识和真实世界经验的非人类智能体。它不是任何一个旧有学科的简单延伸，而是多个学科在一个全新问题域下的交叉、融合与升华。因此，“上下文工程”是一个有用且准确的描述符，它为这个新兴领域提供了清晰的身份认同和发展方向。

### **5.3 对开发者与技术领导者的建议**

为了在上下文工程的时代保持领先，从业者和决策者需要主动调整其战略和行动。

* **对个人开发者的建议**：  
  1. **像数据工程师一样思考**：投入时间学习数据管道技术（如 Airflow, dbt）、数据建模和信息检索的核心原理。将自己视为一个为 AI 消费端构建数据产品的人。  
  2. **拥抱系统思维**：将视野从优化单个提示或函数，提升到设计整个信息流架构的高度。关注系统的可靠性、可观测性和可扩展性。  
  3. **将上下文视为代码**：为你构建的上下文管道（包括提示模板、RAG 配置等）引入严格的软件工程实践，包括版本控制（如 Git）、自动化测试和持续评估 15。  
* **对技术领导者的建议**：  
  1. **投资“上下文层”**：将数据治理和构建统一、可信的“上下文层”提升到企业核心战略的高度，而非仅仅是某个项目的技术实现细节。它是未来所有 AI 应用的基石。  
  2. **重塑角色与团队**：打破部门墙，积极组建由领域专家、数据工程师和 AI 开发者构成的跨职能“上下文团队”。认真考虑设立专门的“知识工程”职能，负责企业知识资产的梳理与管理 12。  
  3. **以评估为导向**：建立并投资于强大的评估框架，用以持续、量化地度量上下文驱动的 AI 系统的性能、准确性和商业价值。没有度量，就没有工程 14。

最终，上下文工程的成熟将引领我们走向一个“**隐形提示**”（Invisible Prompt）的未来。当一个 AI 系统能够通过其背后的、强大的上下文工程能力，自动感知用户所处的环境（例如，用户正在查看的屏幕、正在编辑的文档、其在组织中的角色），并主动预测其需求、检索所需信息时，用户与 AI 的交互将变得前所未有的自然和无缝。届时，用户可能只需说一句“这里情况如何？”或者点击一个按钮，而不再需要费力地组织长篇大论的提示。

所有复杂的“工程”工作都将退居幕后，为用户创造出一种仿佛“心有灵犀”的魔法般体验。而支撑这种魔法的，正是本报告所深入探讨的——严谨、系统、且至关重要的上下文工程。

#### **引用的著作**

1. Karpathy: "context engineering" over "prompt engineering" | Hacker ..., 访问时间为 六月 26, 2025， [https://news.ycombinator.com/item?id=44379538](https://news.ycombinator.com/item?id=44379538)  
2. 访问时间为 一月 1, 1970， [https://twitter.com/karpathy/status/1937902205765607626](https://twitter.com/karpathy/status/1937902205765607626)  
3. What is Context Engineering? The new Vibe Coding | by Mehul Gupta | Data Science in Your Pocket \- Medium, 访问时间为 六月 26, 2025， [https://medium.com/data-science-in-your-pocket/what-is-context-engineering-the-new-vibe-coding-8d04421b6a11](https://medium.com/data-science-in-your-pocket/what-is-context-engineering-the-new-vibe-coding-8d04421b6a11)  
4. AI | Dan Calle, 访问时间为 六月 26, 2025， [http://dancalle.com/tag/ai/](http://dancalle.com/tag/ai/)  
5. AI Context Engineering: Key Questions to Ask | TikTok, 访问时间为 六月 26, 2025， [https://www.tiktok.com/@nate.b.jones/video/7518121865790131486](https://www.tiktok.com/@nate.b.jones/video/7518121865790131486)  
6. medium.com, 访问时间为 六月 26, 2025， [https://medium.com/@manish434k/i-am-choosing-context-engineering-over-prompt-engineering-7b4a10250e0b\#:\~:text=Prompt%20engineering%20primarily%20refers%20to,prompt%20to%20give%20precise%20output.](https://medium.com/@manish434k/i-am-choosing-context-engineering-over-prompt-engineering-7b4a10250e0b#:~:text=Prompt%20engineering%20primarily%20refers%20to,prompt%20to%20give%20precise%20output.)  
7. Effective Prompts for AI: The Essentials \- MIT Sloan Teaching & Learning Technologies, 访问时间为 六月 26, 2025， [https://mitsloanedtech.mit.edu/ai/basics/effective-prompts/](https://mitsloanedtech.mit.edu/ai/basics/effective-prompts/)  
8. Understanding Prompting, Prompt Engineering and In-Context Learning in LLMs \- Medium, 访问时间为 六月 26, 2025， [https://medium.com/codex/understanding-prompting-prompt-engineering-and-in-context-learning-in-llms-2b59fb398fef](https://medium.com/codex/understanding-prompting-prompt-engineering-and-in-context-learning-in-llms-2b59fb398fef)  
9. I am Choosing 'Context Engineering' over 'Prompt Engineering'\! | by ..., 访问时间为 六月 26, 2025， [https://medium.com/@manish434k/i-am-choosing-context-engineering-over-prompt-engineering-7b4a10250e0b](https://medium.com/@manish434k/i-am-choosing-context-engineering-over-prompt-engineering-7b4a10250e0b)  
10. Prompt engineering will be obsolete? : r/PromptEngineering \- Reddit, 访问时间为 六月 26, 2025， [https://www.reddit.com/r/PromptEngineering/comments/1ldgn7t/prompt\_engineering\_will\_be\_obsolete/](https://www.reddit.com/r/PromptEngineering/comments/1ldgn7t/prompt_engineering_will_be_obsolete/)  
11. Don't Build Multi-Agents \- Cognition, 访问时间为 六月 26, 2025， [https://cognition.ai/blog/dont-build-multi-agents](https://cognition.ai/blog/dont-build-multi-agents)  
12. Beyond Prompts: The Rise of Context Engineering​​ | by Nileshk | Jun, 2025 | Medium, 访问时间为 六月 26, 2025， [https://medium.com/@nileshk77487/beyond-prompts-the-rise-of-context-engineering-06050a5d59b6](https://medium.com/@nileshk77487/beyond-prompts-the-rise-of-context-engineering-06050a5d59b6)  
13. The rise of "context engineering" \- LangChain Blog, 访问时间为 六月 26, 2025， [https://blog.langchain.com/the-rise-of-context-engineering/](https://blog.langchain.com/the-rise-of-context-engineering/)  
14. What Actually Matters When You Scale? : r/aipromptprogramming \- Reddit, 访问时间为 六月 26, 2025， [https://www.reddit.com/r/aipromptprogramming/comments/1l732wf/what\_actually\_matters\_when\_you\_scale/](https://www.reddit.com/r/aipromptprogramming/comments/1l732wf/what_actually_matters_when_you_scale/)  
15. Stop Prompting, Start Engineering: 15 Principles to Deliver Your AI Agent to Production, 访问时间为 六月 26, 2025， [https://hackernoon.com/stop-prompting-start-engineering-15-principles-to-deliver-your-ai-agent-to-production](https://hackernoon.com/stop-prompting-start-engineering-15-principles-to-deliver-your-ai-agent-to-production)  
16. 10 RAG examples and use cases from real companies \- Evidently AI, 访问时间为 六月 26, 2025， [https://www.evidentlyai.com/blog/rag-examples](https://www.evidentlyai.com/blog/rag-examples)  
17. cloud.google.com, 访问时间为 六月 26, 2025， [https://cloud.google.com/use-cases/retrieval-augmented-generation\#:\~:text=RAG%20(Retrieval%2DAugmented%20Generation),large%20language%20models%20(LLMs).](https://cloud.google.com/use-cases/retrieval-augmented-generation#:~:text=RAG%20\(Retrieval%2DAugmented%20Generation\),large%20language%20models%20\(LLMs\).)  
18. What is Retrieval-Augmented Generation (RAG)? | Google Cloud, 访问时间为 六月 26, 2025， [https://cloud.google.com/use-cases/retrieval-augmented-generation](https://cloud.google.com/use-cases/retrieval-augmented-generation)  
19. Retrieval-augmented generation \- Wikipedia, 访问时间为 六月 26, 2025， [https://en.wikipedia.org/wiki/Retrieval-augmented\_generation](https://en.wikipedia.org/wiki/Retrieval-augmented_generation)  
20. What is Retrieval Augmented Generation (RAG)? \- Databricks, 访问时间为 六月 26, 2025， [https://www.databricks.com/glossary/retrieval-augmented-generation-rag](https://www.databricks.com/glossary/retrieval-augmented-generation-rag)  
21. What is RAG? \- Retrieval-Augmented Generation AI Explained \- AWS, 访问时间为 六月 26, 2025， [https://aws.amazon.com/what-is/retrieval-augmented-generation/](https://aws.amazon.com/what-is/retrieval-augmented-generation/)  
22. What is retrieval-augmented generation (RAG)? \- McKinsey, 访问时间为 六月 26, 2025， [https://www.mckinsey.com/featured-insights/mckinsey-explainers/what-is-retrieval-augmented-generation-rag](https://www.mckinsey.com/featured-insights/mckinsey-explainers/what-is-retrieval-augmented-generation-rag)  
23. Advanced RAG Techniques \- Guillaume Laforge, 访问时间为 六月 26, 2025， [https://glaforge.dev/talks/2024/10/14/advanced-rag-techniques/](https://glaforge.dev/talks/2024/10/14/advanced-rag-techniques/)  
24. Advanced RAG Techniques \- Cazton, 访问时间为 六月 26, 2025， [https://www.cazton.com/blogs/technical/advanced-rag-techniques](https://www.cazton.com/blogs/technical/advanced-rag-techniques)  
25. Retrieval Augmented Generation use cases for enterprise \- Indigo.ai, 访问时间为 六月 26, 2025， [https://indigo.ai/en/blog/retrieval-augmented-generation/](https://indigo.ai/en/blog/retrieval-augmented-generation/)  
26. Advanced RAG Techniques \- DataCamp, 访问时间为 六月 26, 2025， [https://www.datacamp.com/blog/rag-advanced](https://www.datacamp.com/blog/rag-advanced)  
27. Advanced RAG Techniques \- Weaviate, 访问时间为 六月 26, 2025， [https://weaviate.io/blog/advanced-rag](https://weaviate.io/blog/advanced-rag)  
28. NirDiamant/RAG\_Techniques: This repository showcases various advanced techniques for Retrieval-Augmented Generation (RAG) systems. RAG systems combine information retrieval with generative models to provide accurate and contextually rich responses. \- GitHub, 访问时间为 六月 26, 2025， [https://github.com/NirDiamant/RAG\_Techniques](https://github.com/NirDiamant/RAG_Techniques)  
29. The Human-AI Partnership: Redefining Developer Roles in the Age of Autonomous Coding Agents \- Zencoder, 访问时间为 六月 26, 2025， [https://zencoder.ai/blog/human-ai-partnership-redefining-developer-roles](https://zencoder.ai/blog/human-ai-partnership-redefining-developer-roles)  
30. Function Calling with Open-Source LLMs \- BentoML, 访问时间为 六月 26, 2025， [https://bentoml.com/blog/function-calling-with-open-source-llms](https://bentoml.com/blog/function-calling-with-open-source-llms)  
31. LLM Agent vs Function Calling: Key Differences & Use Cases \- PromptLayer, 访问时间为 六月 26, 2025， [https://blog.promptlayer.com/llm-agents-vs-function-calling/](https://blog.promptlayer.com/llm-agents-vs-function-calling/)  
32. Function Calling with LLMs \- Prompt Engineering Guide, 访问时间为 六月 26, 2025， [https://www.promptingguide.ai/applications/function\_calling](https://www.promptingguide.ai/applications/function_calling)  
33. Function Calling in LLMs – Real Use Cases and Value? : r/AI\_Agents \- Reddit, 访问时间为 六月 26, 2025， [https://www.reddit.com/r/AI\_Agents/comments/1iio39z/function\_calling\_in\_llms\_real\_use\_cases\_and\_value/](https://www.reddit.com/r/AI_Agents/comments/1iio39z/function_calling_in_llms_real_use_cases_and_value/)  
34. Function calling \- OpenAI API, 访问时间为 六月 26, 2025， [https://platform.openai.com/docs/guides/function-calling](https://platform.openai.com/docs/guides/function-calling)  
35. GPT-5 coming this summer- Weekly AI Newsletter (June 23rd 2025\) \- Medium, 访问时间为 六月 26, 2025， [https://medium.com/nlplanet/gpt-5-coming-this-summer-weekly-ai-newsletter-june-23rd-2025-7c539b073b09](https://medium.com/nlplanet/gpt-5-coming-this-summer-weekly-ai-newsletter-june-23rd-2025-7c539b073b09)  
36. Data in the generative AI era: We need more knowledge engineers \- SiliconANGLE, 访问时间为 六月 26, 2025， [https://siliconangle.com/2025/02/04/data-generative-ai-era-need-knowledge-engineers/](https://siliconangle.com/2025/02/04/data-generative-ai-era-need-knowledge-engineers/)  
37. Advanced RAG: Best Practices for Production Ready Systems, 访问时间为 六月 26, 2025， [https://www.getsubatomic.ai/blog-posts/advanced-rag](https://www.getsubatomic.ai/blog-posts/advanced-rag)  
38. Search Context Size \- Perplexity, 访问时间为 六月 26, 2025， [https://docs.perplexity.ai/guides/search-context-size-guide](https://docs.perplexity.ai/guides/search-context-size-guide)  
39. Perplexity AI and Its Impact on Search Engines \- SmythOS, 访问时间为 六月 26, 2025， [https://smythos.com/ai-agents/ai-tutorials/perplexity-ai/](https://smythos.com/ai-agents/ai-tutorials/perplexity-ai/)  
40. How does Perplexity work? | Perplexity Help Center, 访问时间为 六月 26, 2025， [https://www.perplexity.ai/help-center/en/articles/10352895-how-does-perplexity-work](https://www.perplexity.ai/help-center/en/articles/10352895-how-does-perplexity-work)  
41. What Makes Perplexity AI a Revolutionary Search Engine? \- Pageon.ai, 访问时间为 六月 26, 2025， [https://www.pageon.ai/blog/perplexity-ai-search-engine-08u7f](https://www.pageon.ai/blog/perplexity-ai-search-engine-08u7f)  
42. What is Perplexity AI? How to use it \+ how it works \- Zapier, 访问时间为 六月 26, 2025， [https://zapier.com/blog/perplexity-ai/](https://zapier.com/blog/perplexity-ai/)  
43. Perplexity AI Review: How the AI Search Engine Works? | WPS Office Blog, 访问时间为 六月 26, 2025， [https://www.wps.ai/blog/perplexity-ai-review-how-the-ai-search-engine-works/](https://www.wps.ai/blog/perplexity-ai-review-how-the-ai-search-engine-works/)  
44. Context Engineering and Domain Expertise in Generative AI-Powered Software Development \- My Framer Site \- XponentL Data, 访问时间为 六月 26, 2025， [https://xponentl.ai/news/context-engineering-and-domain-expertise-in-generative-ai-powered-software-development](https://xponentl.ai/news/context-engineering-and-domain-expertise-in-generative-ai-powered-software-development)  
45. Why Context Engineering Matters \- YouTube, 访问时间为 六月 26, 2025， [https://www.youtube.com/watch?v=fYgsZnkFeck](https://www.youtube.com/watch?v=fYgsZnkFeck)  
46. 1 Introduction and objectives 2 Context and engineering design research issues., 访问时间为 六月 26, 2025， [https://www.designsociety.org/download-publication/24116/A+SURVEY+OF+CONTEXT+MODELING%3A+APPROACHES%2C+THEORIES+AND+USE+FOR+ENGINEERING+DESIGN+RESEARCHES.](https://www.designsociety.org/download-publication/24116/A+SURVEY+OF+CONTEXT+MODELING%3A+APPROACHES%2C+THEORIES+AND+USE+FOR+ENGINEERING+DESIGN+RESEARCHES.)  
47. Characterizing Proof-of-Concept Practices using the Lens of Context Engineering \- Estudo Geral, 访问时间为 六月 26, 2025， [https://estudogeral.uc.pt/bitstream/10316/113037/1/Characterizing%20Proof-of-Concept%20Practices%20using%20the%20Lens%20of%20Conte.pdf](https://estudogeral.uc.pt/bitstream/10316/113037/1/Characterizing%20Proof-of-Concept%20Practices%20using%20the%20Lens%20of%20Conte.pdf)  
48. "Relevance, Works and Context Engineering" by Michael K. Buckland and Wayne de Fremery \- IdeaExchange@UAkron, 访问时间为 六月 26, 2025， [https://ideaexchange.uakron.edu/docam/vol11/iss2/5/](https://ideaexchange.uakron.edu/docam/vol11/iss2/5/)  
49. SYSTEMS ENGINEERING AND MANAGEMENT DEFINITIONS \- Project Performance International (PPI), 访问时间为 六月 26, 2025， [https://www.ppi-int.com/wp-content/uploads/2023/05/PPI-007725-7-SEM-Definitions-221017-SE5D-3.pdf](https://www.ppi-int.com/wp-content/uploads/2023/05/PPI-007725-7-SEM-Definitions-221017-SE5D-3.pdf)